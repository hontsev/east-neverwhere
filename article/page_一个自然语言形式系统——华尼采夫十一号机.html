<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>乌有乡 - East Neverwhere</title>

    <!-- Bootstrap -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
	<link href="../css/sixsquarestyle.css" rel="stylesheet">
	<link href="../css/mystyle.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body style="background-color:#000;background-image:url(../image/bg.jpg);background-repeat:no-repeat; background-attachment:fixed;background-size:cover">
  <nav class="navbar navbar-inverse" role="navigation">
   <div class="navbar-header">
      <a class="navbar-brand" href="/">乌有乡 - East Neverwhere</a>
   </div>
   <div>
      <ul class="nav navbar-nav" id='menubar'></ul>
   </div>
</nav>
      <div class="container">
	  <div class="col-md-12" style="padding-bottom:60px">
			<h2 class="form-signin-heading" style="color:#fff"><b>一个自然语言形式系统——华尼采夫十一号机</b></h2>
		</div>		
	  <div class="col-md-12">
	  	<div class="col-md-12 text pull-right" >
			<p>华尼采夫十一号机</p><p>通称：HM_11</p><p>形式：文本自然语言处理机-形式系统</p><p>开始日期：2016-4-16</p><p>开发日程：结构化自然语言处理系统研究-理论建立-工程框架建立-实施-改良</p><p>&nbsp;</p><p>&nbsp;</p><p>基本思路概要：</p><p>本系统计划使用借助于统计学汉语分词为基准的词序列作为输入单元，以规则自动造句方式生成输出结果，进行汉语自然语言处理。</p><p>要着重于句法分析的研究改良上，其最终目的应该是可以正确判别句子（或短语）的类型从属，并将对应的句法意义元素正确对应，以便接下来的语义处理。</p><p>另外一个重点就是语义分析的做法。在语义处理方面，采用形式系统化的事实逻辑框架（或称语义网络）来搜索问题对应的事实，并且根据事实来决定输出的语气及句法构成（句式选择）。</p><p>在句法生成方面，应该注意到收集大量句式，并且对句式进行恰当的分类，以便恰到好处地涵盖所有试图输出的事实（以及对事实的询问，以及情绪化表述的内容）</p><p>&nbsp;</p><p>&nbsp;</p><p>2016.4.23</p><p>没有进度</p><p>2016.5.3</p><p>没有进度（暂缓开发）</p><p>2016.5.8</p><p>聊天类型：</p><p>1理智型，对任何用户语言理解为用户的状态声明，从而生成当前用户整体状态模型，从状态中抽取用户期望解决的问题或亟待获取的用户新信息，然后聊天输出完全凭依解决用户问题或询问用户新信息。</p><p>2情绪型，不对用户进行完整建模，只对用户语句中前后相关的事件建立一个个小的模型。通过用户的输入来改变系统内置的状态模型，聊天输出完全凭依系统内模型演绎得到的新状态（例如情绪宣泄，或提供信息）</p><p>3适度综合型</p><p>整体架构：</p><p>原始聊天记录库-自然语言至结构语言转化器-交互行动记录库（结构化描述）-用户状态模型-系统状态模型-用语产生规则</p><p>研究内容：</p><p>状态模型，转化器，用语产生器</p><p>2016.5.15</p><p>&nbsp;</p><p>你知道丛硕是个相声演员吗？</p><p>那你知道球球也是吗？（询问有同样的属性关系的其他实体）</p><p>&nbsp;</p><p>你知道丛硕是个相声演员吗？</p><p>那你知道他还是歌剧演员吗？（询问同一实体的其他属性关系）</p><p>&nbsp;</p><p>你知道丛硕是个相声演员吗？</p><p>那你知道他最拿手的是哪一段啊？（询问同一实体在这一属性下的属性？？。。）</p><p>&nbsp;</p><p>你知道丛硕是个相声演员吗？</p><p>那你知道他班里还有谁说的像他这样好吗？（询问。。。。）</p><p>&nbsp;</p><p>2016.5.28</p><p>系统整体架构：</p><p>1&nbsp;输入语句的语法分析部分（从语句到逻辑语言）</p><p>2&nbsp;逻辑语言的处理部分</p><p>3&nbsp;输出部分</p><p>详细结构</p><p>1</p><p>&nbsp;&nbsp;要将输入的话语进行缓存，一段时间后将其统一收入进行处理</p><p>&nbsp;&nbsp;对输入的语句进行分词</p><p>&nbsp;&nbsp;进行句法的语义元素标记</p><p>2</p><p>&nbsp;&nbsp;首先将新句子的语义元素进行判断，看句式是如何，以此来决定采用哪种方式处理句子信息。判别要依据带有句子结构的句法分析部分</p><p>&nbsp;&nbsp;根据不同的句式，设计不同的处理机制来进行处理</p><p>&nbsp;&nbsp;&emsp;如果是询问句子</p><p>&nbsp;&nbsp;&emsp;&emsp;如果是询问机器信息</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;检查机器是否预设了对此意义元素的对应方面（对应的谓词）的回答内容</p><p>&nbsp;&nbsp;&emsp;&emsp;如果是询问事实性信息</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;先定位事实的主体词，并且根据主体词到语义网络中寻找问题的答案。</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;如果未查询到准确度较高的结果，那么就去百度百科、百度经验、百度知道、知乎等平台去查询</p><p>&nbsp;&nbsp;&emsp;如果是陈述事实的句子</p><p>&nbsp;&nbsp;&emsp;&emsp;如果关于用户自己</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;查询用户记录数据中是否有相同主题词的条目，并且检查相应结果是否与用户本次输入一致</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;&emsp;如果无记录，则直接将这条陈述转化为用户记录</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;&emsp;如果有记录且相同，则反馈</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;&emsp;如果有记录且不相同，则反馈原有数据并且启动一个用户状态争议预期事件</p><p>&nbsp;&nbsp;&emsp;&emsp;如果关于机器个体或者事实记录</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;如果记录中不存在该事实，则将其记下</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;如果记录中有此条目且结果相同，反馈</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;如果记录中有此条目且结果不同，则反馈原有条目并启动一个事实争议预期事件</p><p>&nbsp;&nbsp;&emsp;如果是涉及特殊格式的与上文有关句式（比如&nbsp;是啊，不是啊，对，可以，不可以，不知道，也许</p><p>&nbsp;&nbsp;&emsp;&emsp;判断当前是否存在持续性预期事件</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;如果有，那么依照由近及远的顺序将之对应，</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;&emsp;如果对应成功，则根据相应事件的回馈方式进行操作</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;&emsp;如果对应失败，向更远一层的事件尝试</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;如果没有，那么做出提问质疑</p><p>&nbsp;&nbsp;&emsp;如果是预设的特殊内容，比如打招呼或者发图片表情等</p><p>&nbsp;&nbsp;&emsp;&emsp;进行预设回复计算（依然考虑情绪状态）</p><p>&nbsp;&nbsp;&emsp;如果句子未能正确分析</p><p>&nbsp;&nbsp;&emsp;&emsp;进行分词和语义判断，获取句子关键词与情感状态</p><p>&nbsp;&nbsp;&emsp;&emsp;&emsp;如果关键词与已经储存的用户或者机器数据相同，根据情感来做对对应条目的好感度影响，并启动一个好感度内容询问预期事件</p><p>3</p><p>&nbsp;&nbsp;根据2中的结果，将结果的情绪修改数据与发布内容的形式语言进行转化，采用句式模板的形式对不同的话语进行封装，形成自然语言。</p><p>&nbsp;&nbsp;根据最终修改结果的标记语言进行输出。</p><p>&nbsp;</p><p>2016.5.29</p><p>&nbsp;&nbsp;状态元组：用于记录某一个意义单元的当前状态，用于上下文联系等。</p><p>&nbsp;&nbsp;包括：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;主语，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;主语修饰，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;谓语，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;谓语修饰，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;宾语，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;宾语修饰，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;数据来源，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;数据来源时间，</p><p>&nbsp;&nbsp;&nbsp;&nbsp;意图状况，比如是否存疑，是否期待证明，</p><p>&nbsp;</p><p>依存句法分析结果结构：</p><p>单调主谓宾式结构（起始位置是v或者p，并且具有sbv和vob，vob所指词语并无sbv成分）：分析成一个状态元组。</p><p>状中结构（起始位置是a，并且有sbv）：添加动词“是”（主语具备状语属性）以将其转化成一个完整成分的状态元组。</p><p>复合结构（vob所指词语带有独立sbv成分）：分析成2个状态元组。</p><p>复合句结构（带有标点）：每一个标点都分隔开单独进行检查，分析成数个状态元组。</p><p>缺乏句式结构：独立词或短语。直接提炼其hed所指</p><p>&nbsp;</p><p>2016.5.30</p><p>两个主要问题（现阶段）：</p><p>1&nbsp;如何识别用户的话语的意图，即如何知道用户是在陈述观点，还是在询问事情？</p><p>2&nbsp;上下文衔接问题，如何知道用户是在对上文中的哪个主体进行追问或追述观点？</p><p>提纲：</p><p>1&nbsp;确认用户语言的类型：是疑问，还是陈述</p><p>&nbsp;&nbsp;&nbsp;&nbsp;使用关键词检索方式：检索全句是否有问号或在句尾有疑问助词；检索是否包含“你知道”等疑问句开头。</p><p>2&nbsp;确认用户言语主体：是上文哪个主体</p><p>3&nbsp;确认回答的种类，如何应答：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;针对提问，则进行相应的事实回答，若不知道，则根据问题类型去百度知道和百度经验搜索答案回答。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;针对事实陈述，如果没有记录，则记录下来给予反馈，如果已经有相同记录，则告知已经记录过，如果与已有记录冲突，则反馈冲突项</p><p>&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;针对打招呼用语，根据情绪来选择回复的内容项和语气</p><p>&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;针对对机器人或者某事物的评价性内容，不纳入事实陈述过程，做预设回答。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;针对机器人的提问而做出的是否式的回答，则根据机器人的“期待”状态的期待返回值类型进行对应，这一项优先进行。</p><p>4&nbsp;记忆存储和读取功能</p><p>&nbsp;</p><p>五大类：疑问，回答，陈述，特殊，感情</p><p>首先根据预期的回答来纳入操作。</p><p>疑问、陈述的预先操作：去百度搜索答案，看是否特殊栏给出结果；如果特殊栏没有结果，则进入百度知道搜索，看是否有问题的标题与此句高度重合</p><p>感情的预先操作：在进行其他搜索前，先对句子进行情感分析，根据情感分析结果再结合之后的结果来进行整合处理，并且也影响心情。</p><p>特殊筛选：对句子根据特殊应答库的数据进行搜索并匹配对应回答。</p><p>疑问句判定：根据特殊词汇来看句子是否为疑问句，在这个阶段开始才进行依存句法分析。</p><p>其他情况，默认为陈述事实的句子。</p><p>&nbsp;</p><p>问询的逻辑：</p><p>1&nbsp;软件不知道，用户告诉软件</p><p>2&nbsp;软件知道，用户询问，软件回应</p><p>3&nbsp;软件已经知道，用户再次重申</p><p>4&nbsp;软件已经知道，用户的新内容与之冲突</p><p>&nbsp;</p><p>上下文的逻辑：</p><p>1&nbsp;上文用户陈述事实，然后随之进行补充</p><p>2&nbsp;上文软件做出了回应，用户针对这个回应问问题</p><p>3&nbsp;上文软件问了问题，用户回答</p><p>要依照栈原则，将最近录入系统的内容放在最先被反馈寻找到的位置，以便实现上下文。</p><p>要从句法角度找出用户上下文之间关联的对象是什么</p><p>要在存储事实的时候对事实进行梳理，针对分割失败有一定的补充作用</p><p>&nbsp;&nbsp;如何梳理：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;按照句子原有顺序对附加词进行排列，有点像语义角色标注（ATT）</p><p>&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;在查询时采用子串查找法？如果包含子串则认同</p><p>&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;查询时要关注谓词上的“不”字，来谋求反义（ADV）</p><p>&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;抛弃标点和连词和语气助词（WP，LAD，RAD）</p><p>&nbsp;</p><p>回答语的逻辑</p><p>1&nbsp;百度到的东西直接回答</p><p>2&nbsp;特殊回应加以前后的语气关键词修饰，关键词随机序列也有txt管理</p><p>3&nbsp;逻辑部分给出固定句式，并且前后加语气关键词修饰？？</p><p>&nbsp;&nbsp;逻辑部分的回答分类：</p><p>&nbsp;&nbsp;&nbsp;&nbsp;回馈用户自己已经记住</p><p>&nbsp;&nbsp;&nbsp;&nbsp;回馈用户自己之前记录过相同内容</p><p>&nbsp;&nbsp;&nbsp;&nbsp;回馈用户之前记录过相反内容，问是否用新的替代</p><p>&nbsp;&nbsp;&nbsp;&nbsp;回馈用户用户询问内容的答案、或者没找到答案</p><p>&nbsp;&nbsp;&nbsp;&nbsp;询问？</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>20161010</p><p>上午</p><p>自动聊天中最主要的问题还是之前提到的，对语言主旨和语用的正确把握。</p><p>一个次要目标就是，如何正确区分用户此句话在语义上与上文的联系</p><p>另一个次要目标是，如何正确将用户的话语归纳到一个指定语用上。即明白用户希望机器做的事情是什么。</p><p>语义的规约方面的思考：</p><p>首先，明确机器的处理建立在哪个层面上：现在建立在依存句法分析的结果上，即针对句子概念串来处理。也即，我们取得的是句子。</p><p>然后明确语义规约部分的几个问题。</p><p>1&nbsp;从句子中提炼出语义表达式，即产生形式逻辑语句。只有在这个层面上的句子分析结果才是可被形式化地操作的。</p><p>2&nbsp;逻辑句的分类应答。将智能体内核分割为几种状态，而每种状态下的不同种类的逻辑句输入会导致不同的动作。</p><p>3&nbsp;提炼逻辑语句，即所谓语义分析的过程中必然要使用已有的语法经验，这一过程中的经验库将如何建立和通过学习来更新？</p><p>4&nbsp;意义元素的存储结构和使用方式。</p><p>对于1，已有的方式是按照特定的规则来根据指定位置词的词义寻找与哪种预设句型匹配，基本就是疑问句，肯定应答，否定应答，一般陈述句。这一部分还没有很好的进行设计，加之按照问题3的设想，这种匹配规则的规则应该可以被动态地在聊天过程中学习进来或者修改掉。</p><p>更进一步地，这一过程不能只局限于对输入句的分类方面，它还要涉及语义的基础内涵，指出某一词语搭配所关联着以何种方式进行语义元素的搜索和收集，甚至它也影响到语言生成部分。当然目前语言生成部分还都是框架类的形式，无法动态变化。如何让机器通过输入句的句法来学习，从而掌握新的句法运用方式？这也是一个问题。</p><p>对于2，已有的方式是将内核分割成了几种状态，大致上是问题的确认、问题的提出和搜索、学习。具体上还有一些细节见相应状态转移图。</p><p>对于4，意义元素目前的设计是存储为了一个个的陈述句主谓宾形式。相当于图里的边的存储方式。意义元素的使用目前只能进行直接的有无的检索或增改，缺乏联想过程和归纳过程。</p><p>如何将语法层面的内容和语义层面的内容区分开并且分别通过机制来确认和学习，这将是一个重点要考虑的问题。</p><p>语法层面的内容，基本包括的是句式结构，是一种更抽象的元语言。它应当像是语法框架一样只对框架内各个部分的顺序和类型进行定义，并不具体涉及内部各部分的具体内容。它也应该是可递归的。</p><p>类型是语义类型，因为语义类型中已经包括了词语的种类，并且还更加详细。</p><p>语义层面的内容，就是意义元素。意义元素即逻辑语句，直接表征语言中抽象出来的现实中的事物或抽象事物。他们的层级在语法类型之下，属于更具体的元素内容。语义元素和语法元素应该是完全截然不同的对立的两种元素，他们不能跨层互相影响，而只能是语义元素作为语法元素的操作物。语义元素决定了具体输出的语义元素清单，也决定着系统状态的更改。语法元素的作用只是预处理，提取出要用到的语义元素，并且对语义元素的结果，综合系统状态来生成输出的句子。</p><p>这里有一个悖论（难题），既然语法分析先于语义分析，而在语法分析之前无法进行语义方面的任何工作，那么将如何才能根据用户的语法改进结果，比如根据用户对句式的教授，进而对语法进行修改呢？</p><p>这个问题可以解决，并且也很直观，那就是，在语义分析中加入一部分涉及改变语法的语用操作关联。虽然语义与语法无关，但可以借语用来修改语义。具体流程，即首先按照已有的语法将内容转化为语义信息即意义元素序列，根据语义分析，得出将系统状态改变的结果，根据新状态调用语用，对输入的新句式部分进行处理，将他拆解成语法框架，并且纳入新的语法处理库中。</p><p>这里有一个问题，就是现在系统对语法的处理已经有一部分被包含在调用的依存句法分析过程中，这一部分内容不能很好的修改。因此现在应当设定为，对于每一个新的输入，要在依存句法分析和句式框架分析两种方式中取得一个平衡，采取某种方案对这两种分析的结果进行评价和选择。</p><p>关于输入语义的上下文关联问题，它包含两部分内容，一个是用户的同一句输入是一个复杂的句子，它的各部分之间有并列，因果，转折或者递进等等不同的关系，它不但应该被储存为各个分句的具体内容，还应该被整体地存储来表示这种关联。</p><p>另一部分的上下文关联是指用户不同句子之间有联系。这一般地体现在各句要么在语义成分上有省略，比如缺乏主语或者缺乏宾语之类。要么语法上用了关联词来强调这句话与前面的关系。要么还会在句子中出现代词。现在假设这种关联在用户两次不同的输入或者用户同一次输入的两句相邻的话中都以同样的方式展现，因而可以把他们用一样的方式来处理。</p><p>对于同一句话中的不同成分之间的有关其实是后一种现象的类似版本，它的不同字句之间如果拆成单句依次输入，那么效果是类似的。所以进一步假设，这不同种类的上下文关联方式可采用同样的方式来处理。</p><p>这处理方式就是要对上文的各个单独意义元素（逻辑子句）进行缓存，形成一个暂时的上下文环境。这个环境的功能是为新句子的指代成分或缺失成分进行补充和替换，将新句子处理成一个意义完整独立的子句。</p><p>此外，这里要特别注意，上下文关联问题包含两个部分，上文关联和下文关联。有时也会是后句补充前句的指代或缺失成分，即有后向指代。这种指代甚至是跨多句的。针对这种情况，在同一个暂时上下文环境里的前句也有可能有残缺，此时应该在语义层面根据新句子对原有的残缺句进行补充或指代修正。</p><p>这种临时上下文不能无限制地扩大，所以采取一个类似于滑动窗口的方式，即用某种策略丢弃已有的一部分逻辑语句，从而使上下文大小有限。这里可以考虑的一种方式是采用主题相关的原则对句子进行筛选，同时也考虑到补全问题，即如果有些语句尚未补全，那么将其抛弃时要更加慎重。这不代表说任何未补全的句子都不能被抛弃。</p><p>要注意，系统的意义元素序列不止这一个，而此处的序列即上下文环境的用途仅仅是用于处理指代或缺失成分的补充修正。在对于语句进行观点分析，进而提出问题或者进行学习的那个部分也有一个意义元素序列，用于存储上文自己提出的观点或收到的对方观点，以及存储待回答的疑问。</p><p>输入的语句并非都一定可以与上下文有关，有的语句是应当被舍弃的，无明显意义。这种语句在实际网络聊天中比较多见，它一般用于表现对方的心情状态或一种情感态度，不涉及具体的意义元素。这种句子如何处理，目前暂定为将之舍弃。</p><p>针对依存句法分析结果的不准确性进行考虑。依存句法分析的结果是词语序列及其成分标注，由于其依照的是通用语言库，因此划分结果可能不正确，涉及一些命名实体的部分或不合句法的句式会产生错误的结果。因此，系统应当在语义分析的过程中保留最初输入的原始句子。针对依存句法分析的结果，</p><p>语用方面的思考：</p><p>对系统进行整体结构的设计：应该分为这么几个部分，</p><p>Controller即控制器用来控制整个流程的动作顺序，这一部分的处理顺序和内容不被更改。</p><p>Actor是分析或语用辅助组件，各自相对独立地实现语用，被Controller调用并直接返回结果字符串，可用作流程的组成部分来参与流水线式分析过程。</p><p>Helper是基础辅助组件，各自拥有相对独立的基础功能实现，一般不直接执行指令，而是作为Actor的支持库存在</p><p>&nbsp;</p><p>20161013</p><p>晚上</p><p>要义在于对句子进行深入的分析：要具备很高的鲁棒性，即应该让系统能接受很大程度上语法出错或有遗漏成分的句子，完全或者部分地分析出用户的问题。用户的问句其实是给出了一个回答的约束范围，并非一定要完整的问句才可以回答。如果句子只能分析出一部分条件，那么可以根据上下文数据来进行自发填充。</p><p>反馈也很重要。让用户知道系统期待一个如何的输入，以及让用户知道系统分析出了他哪部分内容，对哪部分需要解释。</p><p>正确处理反馈涉及到系统内部状态的合理改变路径。</p><p>定义系统内部状态。系统整体的结构是话题扩展模型。即，系统应该基于话题及其产生、变化来构建相应的语言环境，从而在语言环境中产生应答和接收用户回应。话题是指一组互相关联的上下文，分子母层级。话题由意义元素组成。话题的相关操作包括：产生话题，修改要素，消除话题。</p><p>&nbsp;</p><p>用户在与系统进行互动时，最重要的并非总是提供准确的客观回应，或者找到正当的应答知识点。</p><p>最重要的是：提供一种心灵交流错觉，即使得系统类似于可以了解用户的内心的未表述的想法，从而提供超字面意思的回应。这需要提供一种高层面结构的知识推理。</p><p>此外，用户需要的是跳跃式的、能提供新话题的回应。</p><p>用户要求系统的创造力，要求系统能记忆和灵活运用用户创立的独特知识语境，即对话过程中要拥有对新鲜知识的应用的热衷，要好奇。这种积极寻求新内容的尝试的对话能带来新鲜感。尽量不要使用已经应答过的或已经牢固掌握的传统回应。</p><p>话题模型解决的问题是上下文问题，这能使得系统运用上下文来应答，并且根据上下文的不断填充，将淡出的话题内容作为长效记忆存储。</p><p>话题这一结构，是意义元素的集合。也即其序列。话题之间的父子关系的意义是，使得子话题的内容跳出时，可以跳出至某一个另外话题下成为与之前话题并列的子话题，从而继承一部分先前讨论的内容。但是这样一来，话题之间单一的父子关系（即类似树形，每个话题至多只有一个父话题）会导致，我们需要对于话题之间的转换，增加与消除有一个更严格的定义，要时刻保持这个结构，并且也要时刻使上下文知识能够合理。</p><p>关于话题的创建和切换是否需要语义知识，话题切换并非总是在语法上有一个转折关系或类似的关系，同一个话题之间也并非总有语法上的连接。一般而言，在普通的网络聊天内容中，转折词的使用频率不高，话题的切换主要依靠话语实体的生硬转化，话题的顺接主要依靠代词和相近话语实体的使用。语法分析在这里几乎没有准确度可言。对于聊天话语的分析，主要还是要依照聊天的语料来进行分析。</p><p>不过，虽然不同话语之间罕有关联词，但是同一句话的复杂结构中很可能使用很多关联词。但是这里关联词一般而言使用并非标准状态，语法规范几乎不存在。因而，这里对于关联词的处理也应该采用容错性更大的方式。</p><p>我们对于话题的定义还是很模糊，例如说，对于不同的命名实体，话题应当如何细分？只要是命名实体的字面符号发生变化，是否就要切换话题？或者，对于命名实体之间采用某种方式的聚类，以便于分析在概率层面上实体之间是否有明显的话题关联？</p><p>首先考虑对于字面意义的实体都进行不同的话题切割。这样做的一个理由是，它能够明确地对话题切分。此外，将话题之间的关联和承接的任务完全交给了话题层级关系上，这几乎相当于让话题成为了概念句，话题之间的关系成了概念句之间的谓词连接。这样做几乎就只能够对于不同概念句之间的代词处理提供作用，其他方面则毫无作用，因为话题内部包含非常少量的紧密相连的概念句。这种方式的另一个问题，是话题的切换过程难以准确，因为它对于话题切换的判断标准决定了切换后新话题的从属关系无从知晓，只能按照一个预设的关系，要么成为先前话题的子话题，要么成为先前话题的兄弟话题。它对于话题层级关系的使用上就比较困难。这是因为话题之间的关联在很大程度上是依靠概念元素的关联度的。</p><p>这里就涉及了一个问题，即话题究竟是一种语法结构还是一种语义结构。我认为当然是语义结构。那既然是语义结构，那么话题的定义就要更多关注其语义上，即内部的关联，即不同形式的概念要素之间的概念相关度，和概念继承关系。这种关系应当如何确定？一种方案是，在概念网络中对于两个不同句子里涉及的不同的概念元素进行搜索，搜索他们之间的关系。按照关系的某种统计值，例如二者联通的最短路径长度，来作为关系紧密度的标准。然后设定一个阈值，区分当前话题是继续还是已经切换。但是做语义上的处理有何目的呢？既然语法方面的上下文关系的确认已经在先前通过一个另外的概念序列解决，这种类似于聚类的语义处理的结果产生的话题，提供了何种功能？我认为，这种语义内容是在系统对话题的搜寻和拓展过程中起作用。但它能起多大作用？</p><p>根据语义内容进行特异化处理，是系统的核心任务和决定性任务。系统的概念网络仅仅提供了一个系统内事实的表示方式，但是这种事实应该怎样提取，应该对用户的同样问题或者仅仅一个陈述句，作怎样方式的回应，拿出怎样的数据？这里，需要做一个设计：我设计，系统的内部过程应当分为问题提出和问题应答的过程：即，就算用户提出的是陈述句，系统也应当内部将其转化为一个或多个问句：即，将用户的输入全都看作是提问。当然，对话过程并非全然可以被表述为问题，因为系统还会有一些过程是期待着用户的回应，并且根据这种回应改变系统内部的某些知识或者某些态度。这些是一个先于问题——应答模块的前导模块，期待回应的模块要根据系统正等待着的回应模式，优先考虑用户的输入是不是对先前问题的一个回应。如果是，那么将这个输入截取下来，预先按照处理应答的模式做一些处理。然后，处理过后的内容可以转化为问题投入问题——应答模块。</p><p>一个问题应当如何记录和考量？看问题的组成成分：提问目标，提问项。提问目标是提问涉及的最主要的主体，提问项是这个主题的某一个部分的属性。要注意的是，主体不一定是记忆中有的主体，它可能是总括性的或否定性的，属性同样如此。</p><p>简单问题的类型：</p><p>1，判断题。如，苹果的颜色是不是红色？</p><p>2，项不定填空题。如，苹果是什么颜色的？</p><p>3，主体不定填空题，如，什么的颜色是红的？</p><p>4，选择题，如，苹果和橘子哪个颜色更红？</p><p>5，因果分析，如，苹果的颜色为什么是红色？</p><p>6，开放简答题，如，你对苹果有什么感受？</p><p>对于这些不同的问题，在概念网络中的搜索方式和计算方式也不同。</p><p>1，判定是否的过程，实际上对应于检查网络中两概念是否有给定的谓词所限定的通路。如果有，判定成功；如果存在反义谓词通路，判定失败；否则，达到搜索界限依然无结果，判定未知。</p><p>2，宾语项的搜寻，主语已经明确，在概念网络里寻找给定谓词所限定的通达项，如果有，返回该项；如果达到搜索界限依然无结果，判定未知。</p><p>3，主语项的搜寻，宾语已经明确，在概念网络里寻找给定谓词所限定的主语，如果有，返回该项；如果达到搜索界限依然无结果，判定未知。</p><p>4，择优问题，找到两个对应要比较的值，根据计算所得的择优方式在网络中评估这两个节点对应价值，取结果。必然有一个选择。</p><p>5、6较为复杂，需要更细致的划分，涉及主观意向，并不能对应于最简单的概念网络操作。</p><p>而进行这些标准概念网络搜索方法之前，首要任务是明确提问目标和提问项的合理性。如果提问目标或提问项不合理，则不必执行问题而直接给出对应回应。如问，抽象是什么颜色的？应回复，抽象不具有颜色属性。这比起，我不知道抽象的颜色，更加符合正常的回应方式。</p><p>对于用户并无明显设问倾向的输入，如陈述句，就应该结合上下文的话题模型，将之转化为可以扩展话题的一个问句向系统内提问，或者甚至可以直接返回一个问句给用户。不过，返回问句这种操作的实现必须伴随着期待回应模块的相应完整设计。这需要进一步的设计。</p><p>&nbsp;</p><p>20161014</p><p>上午</p><p>系统的两个过程，即问题的形成和问题的应答两部分，都要使用相同的话题模型和概念网络。提问的环节在这里其实相当于一个心灵意向的展开，如何根据用户的不明确的输入转化为一个恰当的有价值的问题，这体现出来某种程度上系统的高阶智能思维。</p><p>此外，用户的输入语句体现出表层语言和实际概念语言之间的不同。即，用户的话语根据字面意思的语法（主谓宾）来获取到的概念句，实际上其只是表面意思，内在含义可能更加复杂，需要对主谓宾诸概念进行语义方面的拓展才能正确与系统内部的概念网络相吻合。这种现象包括：</p><p>概括性词汇，如，因此我们可以得出上述结论。</p><p>要素省略，如，苹果是红的。（应为，苹果的颜色是红色）</p><p>要素借喻，如，苹果熟了。（应为，苹果成熟了）；我和他们不熟。（应为，我与他们的关系不够亲近）</p><p>多重否定，如，没人说你不傻。（应为，所有人都认为你傻）</p><p>在实际应用中，这些关系往往会同时出现，并且形式上几乎没有其他预兆。所以，必须要通过词汇语义，根据逻辑句各成分之间的关系，以及根据上下文，来对逻辑句进行进一步分析，将其分析成更深一步的语义逻辑关系。在系统中存储的数据，为了保证其一致性，必须由在相同或者几乎相同的基准下的逻辑句构成。这样说，是因为往往语言逻辑中的各个概念单元并非在同一基准，他们往往与说话人的主观经验有很大关系，因此体现出特异性。系统在这种情况下，最好的选择是根据系统自身的特异性来选择输入语句的意义，将之存储成为系统独自的概念记忆。但因为这种方式要求系统对于用户的语义有真实的理解，这比较困难。所以可退而求其次，我们可以让系统将用户输入的话语中的表面意义单元存储为与该用户相关的“他人逻辑”，即系统保持一个记录者的角色，只对他人输入的知识进行简单存储，并且加以来源标注。当系统需要应答问题时，对于这些小型的他人逻辑概念网络进行整合，对整体的知识库做遍历。如果多人不同的逻辑中存在直接冲突（何为直接冲突，即包含了A是B和A不是B这两个语句。也即，存在一阶逻辑冲突的句子。这里目前暂时还未考虑存在经推演出现矛盾的情形。）将有冲突的诸项列出，并且做一个等待回应的动作。</p><p>关于回应。</p><p>回应模块是系统的上下文衔接的必要部分。回应的种类暂时分为如下：</p><p>1，等待语法问题答案</p><p>2，等待语义问题答案</p><p>这里的语法问题，是指语法处理阶段的上下文关联部分的代词指代或缺少语法成分，因此无法处理，直接返回要求用户提供进一步的解释。这里的解释一般而言是给出一个填空问题。</p><p>语义问题是指语法问题已经解决的情况下，根据系统内部的提问——回应过程，结论是一个疑问形式的回应，则应当为不同类型的输出回应提供对应的回应期待。即，根据输出的回应类型是选择题，判断题，各种填空题还是简答题等，来指定要接受的回应应当如何分析。</p><p>这两种问题事实上在运行时是堆栈的形式迭代着存储的，即每次只会等待一个最细小的最近的问题的答案，只有当答案无法分析满足这个问题时，才会继续向下寻找更先前提出的问题是否能被满足。此外，一旦某个问题已经满足，意味着这个问题之下的诸问题就无意义，而这个问题的答案将被作为其父问题的答案递归地向上传递。直至全部问题都回答完毕，将最终答案归入执行当初的语用作用。这里，语法问题的答案用语满足语法结构建立（当提出问题时，相应的上下文逻辑句序列元素会被锁死，不会被移出序列，满足后将其填充完毕，然后取消锁死操作）</p><p>&nbsp;</p><p>20161016</p><p>上午</p><p>模块边界必须设计清楚。</p><p>如上文所述，目前的系统中总共有如下模块：</p><p>1，整体流程控制模块</p><p>2，语法分析模块</p><p>3，回应模块（语法、语义上下文模块）</p><p>4，提问——应答模块（语义分析模块）</p><p>5，语用模块</p><p>关于概念元素的编号。它应该有三种不同的编号。。。。</p><p>语法分析的过程：</p><p>1，将原句分词、词性标注</p><p>2，将1的结果拆成最简句的序列</p><p>3，将2的结果的代词进行补全，将其缺少的成分补全</p><p>4，将3的结果转写成概念句</p><p>详细解释</p><p>1，原句的分词和词性标注，包括句法分析采用LTP直接分析。得到的结果是包含有词的序列，每个词标注了词性，语法成分。具体如下</p><p>词性：</p><p>Tag&nbsp;Description&nbsp;Example&nbsp;</p><p>a&nbsp;adjective形容词&nbsp;美丽&nbsp;&nbsp;</p><p>b&nbsp;other&nbsp;noun-modifier其他的名词修饰语&nbsp;大型,&nbsp;西式&nbsp;&nbsp;</p><p>c&nbsp;conjunction连词&nbsp;和,&nbsp;虽然&nbsp;</p><p>d&nbsp;adverb副词&nbsp;&nbsp;很&nbsp;</p><p>e&nbsp;exclamation感叹词&nbsp;哎&nbsp;</p><p>g&nbsp;morpheme词素&nbsp;&nbsp;茨,&nbsp;甥&nbsp;</p><p>h&nbsp;prefix词头&nbsp;&nbsp;阿,&nbsp;伪&nbsp;&nbsp;</p><p>i&nbsp;idiom成语&nbsp;百花齐放&nbsp;&nbsp;</p><p>j&nbsp;abbreviation缩写&nbsp;&nbsp;公检法&nbsp;</p><p>k&nbsp;suffix词尾&nbsp;&nbsp;界,&nbsp;率&nbsp;&nbsp;</p><p>m&nbsp;number数字&nbsp;&nbsp;一,&nbsp;第一&nbsp;</p><p>n&nbsp;general&nbsp;noun一般名词&nbsp;&nbsp;苹果&nbsp;&nbsp;</p><p>nd&nbsp;&nbsp;direction&nbsp;noun方向名词&nbsp;&nbsp;右侧&nbsp;&nbsp;</p><p>nh&nbsp;&nbsp;person&nbsp;name人名&nbsp;杜甫,&nbsp;汤姆&nbsp;&nbsp;</p><p>ni&nbsp;&nbsp;organization&nbsp;name机构名&nbsp;保险公司</p><p>nl&nbsp;&nbsp;location&nbsp;noun地点名&nbsp;城郊</p><p>ns&nbsp;&nbsp;geographical&nbsp;name地名&nbsp;北京</p><p>nt&nbsp;&nbsp;temporal&nbsp;noun时间名词&nbsp;近日,&nbsp;明代</p><p>nz&nbsp;&nbsp;other&nbsp;proper&nbsp;noun其他专有名词&nbsp;诺贝尔奖</p><p>o&nbsp;onomatopoeia象声词&nbsp;&nbsp;哗啦</p><p>p&nbsp;preposition介词&nbsp;在,&nbsp;把</p><p>q&nbsp;quantity量词&nbsp;&nbsp;个</p><p>r&nbsp;pronoun代词&nbsp;我们</p><p>u&nbsp;auxiliary助词&nbsp;的,&nbsp;地</p><p>v&nbsp;verb动词&nbsp;&nbsp;跑,&nbsp;学习</p><p>wp&nbsp;&nbsp;punctuation标点符号&nbsp;，。！</p><p>ws&nbsp;&nbsp;foreign&nbsp;words外文词&nbsp;CPU</p><p>x&nbsp;non-lexeme非单词&nbsp;&nbsp;萄,&nbsp;翱</p><p>语法成分：</p><p>关系类型&nbsp;&nbsp;Tag&nbsp;Description&nbsp;Example</p><p>主谓关系&nbsp;&nbsp;SBV&nbsp;subject-verb&nbsp;&nbsp;我送她一束花&nbsp;(我&nbsp;<--&nbsp;送)</p><p>动宾关系&nbsp;&nbsp;VOB&nbsp;直接宾语，verb-object&nbsp;&nbsp;我送她一束花&nbsp;(送&nbsp;-->&nbsp;花)</p><p>间宾关系&nbsp;&nbsp;IOB&nbsp;间接宾语，indirect-object&nbsp;&nbsp;我送她一束花&nbsp;(送&nbsp;-->&nbsp;她)</p><p>前置宾语&nbsp;&nbsp;FOB&nbsp;前置宾语，fronting-object&nbsp;&nbsp;他什么书都读&nbsp;(书&nbsp;<--&nbsp;读)</p><p>兼语&nbsp;&nbsp;DBL&nbsp;double&nbsp;&nbsp;他请我吃饭&nbsp;(请&nbsp;-->&nbsp;我)</p><p>定中关系&nbsp;&nbsp;ATT&nbsp;attribute&nbsp;红苹果&nbsp;(红&nbsp;<--&nbsp;苹果)</p><p>状中结构&nbsp;&nbsp;ADV&nbsp;adverbial&nbsp;非常美丽&nbsp;(非常&nbsp;<--&nbsp;美丽)</p><p>动补结构&nbsp;&nbsp;CMP&nbsp;complement&nbsp;&nbsp;做完了作业&nbsp;(做&nbsp;-->&nbsp;完)</p><p>并列关系&nbsp;&nbsp;COO&nbsp;coordinate&nbsp;&nbsp;大山和大海&nbsp;(大山&nbsp;-->&nbsp;大海)</p><p>介宾关系&nbsp;&nbsp;POB&nbsp;preposition-object&nbsp;&nbsp;在贸易区内&nbsp;(在&nbsp;-->&nbsp;内)</p><p>左附加关系&nbsp;LAD&nbsp;left&nbsp;adjunct&nbsp;&nbsp;大山和大海&nbsp;(和&nbsp;<--&nbsp;大海)</p><p>右附加关系&nbsp;RAD&nbsp;right&nbsp;adjunct&nbsp;孩子们&nbsp;(孩子&nbsp;-->&nbsp;们)</p><p>独立结构&nbsp;&nbsp;IS&nbsp;&nbsp;independent&nbsp;structure&nbsp;两个单句在结构上彼此独立</p><p>标点&nbsp;&nbsp;WP&nbsp;&nbsp;punctuation&nbsp;。</p><p>核心关系&nbsp;&nbsp;HED&nbsp;head&nbsp;&nbsp;指整个句子的核心</p><p>&nbsp;</p><p>2，将1的结果拆成最简句的序列</p><p>根据1中分词结果的特征，用一些规则来将其拆分成只具有一个主谓宾结构的子句序列。</p><p>规则如下</p><p>-</p><p>&nbsp;</p><p>3，将2的结果的代词进行补全，将其缺少的成分补全，进行其他修正</p><p>如果成分缺失，需要根据规则补充，如果涉及成分为一个子句，则相应成分填充为其序号。</p><p>&nbsp;</p><p>4，将3的结果转写成概念句</p><p>&nbsp;</p><p>回应模块（语法、语义上下文模块）</p><p>此模块的功能：</p><p>1&nbsp;提供概念网络的操作功能</p><p>2&nbsp;存储语法上下文</p><p>3&nbsp;存储语义上下文</p><p>&nbsp;</p><p>提问——应答模块（语义分析模块）</p><p>此模块</p><p>&nbsp;</p><p>语用模块</p><p>&nbsp;</p><p>20161017</p><p>晚上</p><p>之前模块的划分存在问题。</p><p>语法模块对句子的处理过程要求其能够通过一个较小的循环来直接联系输入和输出。这就要求系统不能够是全盘直线型分层加工，因为这样会导致反馈不及时，分割语法上下文分析的部分。</p><p>我认为系统应该设置为几个不同的循环层次，即，当系统对于用户句子的语法处理过程中出现了疑惑以至于不能充分理解用户的语言，那么就应该立即结束对句子的分析，直接进入构建输出和构建回应事件的阶段。只有当前一阶段的分析超过某个被认为比较充分的阈值，从而生成了较完整的可供分析的概念句时，才进入下一阶段的语义分析、提问——应答过程。</p><p>这两个不同的循环层次都要经过几个共通的步骤，即都需要开始的语法分析和最终的构建输出、构建回应事件阶段。区别在于中间是否要经过语义分析的部分。</p><p>语义分析的部分和语义上下文，实际是概念网络。概念网络的组成和语法分析的结果一致，都是有类似于主谓宾这三个成分的一个个短句组成。三个主要成分可以是具体词汇（字符串），也可以是其他短句。注意这里还要防止有向图的闭环，现在暂时不处理闭环。短句被称为概念，短句们组成一个有向图（短句是图的边表示）。语义分析的概念网络中分为两个部分，一个是系统内部的稳定存储部分，也即机器人的记忆部分，这部分内容存入文件中来长期存储，也可以在多用户模式中在各个用户那里使用。另一部分是当前聊天的上下文，也即只针对单个用户的一段短暂的临时情境记忆，这部分内容暂时未被放入系统的稳定存储中，通过一个热度衰减的过程来将这部分中的概念存储到稳定记忆中（移动而非复制），通过一个回想的过程将稳定记忆中的概念加载到这部分中（复制而非移动）。</p><p>概念网络其实很像一阶形式逻辑的操作，目前不包含谓词限定符，只有命题逻辑部分的演算。涉及的几个操作在先前已经说了。</p><p>这几个模块的整体设计已经比较清楚了。接下来还要仔细考量另外几个重要模块：提问——应答模块，回应模块，语用模块。</p><p>提问——应答模块，功能是提出问题，并且组织得到的回应来构建系统的输出语句。这个模块包含了系统的意向，话题掌握功能，自然语言生成功能，以及可能包含今后要加入的情感模块。由于输出语句构建部分是顺接的部分，所以也可以考虑将其单独分割出去成为另一个模块。</p><p>提问——应答模块的概念，是系统将一切行为都转化为一个问题，这样通过将语义分析模块分割成提出问题和解决问题这两部分，对系统有一个分层。当然这种分割的合理性方面，目前只是一个猜想。</p><p>目前认为提出的问题都应当是概念网络的问题，即可以通过确定性的方式将其解决过程转化为一组概念网络里的逻辑操作。</p><p>回应模块是用语记录和处理前后有呼应关系的句子的模块，系统向用户提出问题时，在回应模块中注册一个指定的回应事件，事件标明了系统期待的一个何种类型的回复内容，以及该内容应当被用于完善哪个部分的上下文句子。事件也标明了如何对例外做相应的应答。回应模块要与整个系统的主等待循环关联，通过主循环来获取时间信息，来决定回应时间是否因时间太长而应当被忽略，或应当再度向用户重复提出此问询。</p><p>语用模块主要是负责系统与系统外其他事物的交互，比如从网络中获取某些概念知识，或执行系统的记忆存储，执行用户的一些系统外操作等。御用模块目前还未想好要加哪些重要功能，但毫无疑问此模块要有较好的扩展性，今后会继续在语用中添加新的功能。语用模块还有另外一个期待加入的功能，就是记录与学习用户教授的新句式，因为系统之前的概念网络的操作只能够记录用户的一些概念相关的语义信息，但是语法层面或词语层面的新知识目前还不能学习和运用起来。这部分有待继续考虑，也不一定要放在语用模块中，很可能嵌入前几个模块里作为系统的核心功能要素。</p><p>&nbsp;</p><p>20161018</p><p>晚上</p><p>有设想过将句法学习的部分放在语法分析之前处理，即优先于通用的依存句法分析过程。所谓的句法学习，就是将用户的每一个输入系统的句子都与当时分析出的意义（或者经过用户修正后的意义——这种做法比较复杂，不能够在系统内一步完成）做一个匹配，从而将之作为类似于模板库的知识存储起来，当用户说出同样的话语时，就能不再经过依存句法分析而直接抽取出其要表述的概念句。</p><p>当然，这种做法只在依存句法分析出错，甚至分词过程中就出现错误的情况下比较有用，因为系统外调的分词工具比较难根据新情况动态修改（当然也可以使用自定义词表。有待考虑。）如果能够识别用户对于先前系统反应过程的纠正，尤其是采用解释类的或者同义话语来解释先前句子，那么对先前句子的分析结果就可以直接采用后一个分析成功的句子的结果，认为这两个句子的意义一致。</p><p>&nbsp;</p><p>20161027</p><p>晚上</p><p>对于核心逻辑的想法</p><p>核心逻辑，也就是所谓的提问——回应逻辑，将一切环境要求系统做出的反应归纳为几种形式化的问题类型，并且一一严格对应到了形式化概念网络的相应操作中。</p><p>&nbsp;</p><p>20170224</p><p>下午</p><p>系统分为三部分：</p><p>controller控制整体流程，以及输出端的接口相关内容</p><p>helper是一组静态库，用于提供网络连接，数据文件操作等基础功能</p>
		</div>
		
	  </div>
	  

    </div> <!-- /container -->
    <script src="/js/jquery-1.12.0.min.js"></script>
	<script src="/js/jquery.goup.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
	<script src="/js/menubar.js"></script>
	<script>
	 $(document).ready(function () {
 
            $.goup({
                trigger: 100,
                bottomOffset: 150,
                locationOffset: 100,
            });
 
        });
	</script>
	
  </body>
</html>